\batchmode
% file: ot-tla.tex

\documentclass{article}
\usepackage{graphicx}
\usepackage{tlatex}
\usepackage{color}
\definecolor{boxshade}{gray}{.85}
\setboolean{shading}{true}

\begin{document}
\makeatletter
\chardef\%=`\%
\fl{}\moduleLeftDash\cl{ {\MODULE} Op}\moduleRightDash\cl{}
\fl{ MaxLen \.{\defeq} Cardinality ( Char ) \.{+} Len ( InitState )%
\@y{%
  the max length of lists
}%
}
 \fl{ Priority \.{\defeq} {\CHOOSE} f \.{\in} [ Client \.{\rightarrow} 1
 \.{\dotdot} Cardinality ( Client ) ] \.{:} Injective ( f )}
\fl{}
 \fl{ Del}\al{4}{1}{ \.{\defeq}}\al{4}{2}{ [ type}\al{4}{4}{ \.{:}}\al{4}{5}{
 \{\@w{Del} \} ,\, pos}\al{4}{10}{ \.{:}}\al{4}{11}{ 1 \.{\dotdot} MaxLen ]%
\@y{%
  The positions ($pos$) are indexed from 1.
}%
}
 \fl{ Ins}\al{5}{1}{ \.{\defeq}}\al{5}{2}{ [ type}\al{5}{4}{ \.{:}}\al{5}{5}{
 \{\@w{Ins} \} ,\, pos}\al{5}{10}{ \.{:}}\al{5}{11}{ 1 \.{\dotdot} ( MaxLen
 \.{+} 1 ) ,\, ch \.{:} Char ,\, pr \.{:} Range ( Priority ) ]}
\fl{}
 \fl{ Op \.{\defeq} Ins \.{\cup} Del Nop \.{\defeq} {\CHOOSE} op \.{:} op
 \.{\notin} Op}
\fl{}
\fl{ Apply ( op ,\, l ) \.{\defeq}%
\@y{%
  Apply operation $op$ on list $l$.
}%
}
\fl{}\bottombar\cl{}
\end{document}
